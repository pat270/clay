// Dropdown

// .dropdown-toggle

$dropdown-toggle: () !default;
$dropdown-toggle: map-deep-merge(
	(
		white-space: nowrap,
	),
	$dropdown-toggle
);

// .dropdown-menu

$dialect-dropdown-arrow-border-color: darken($gray-300, 10);
$dialect-dropdown-arrow-border-width: 1px;

$dialect-dropdown-arrow: clay-svg-url('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1030 638"><path d="M1017 570L541 12Q530 0 515 0t-26 12L13 570q-16 19-7 43.5T39 638h952q24 0 33-24.5t-7-43.5z" fill="#{$white}"></path></svg>');
$dialect-dropdown-arrow-border: clay-svg-url('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1030 638"><path d="M1017 570L541 12Q530 0 515 0t-26 12L13 570q-16 19-7 43.5T39 638h952q24 0 33-24.5t-7-43.5z" fill="#{$dialect-dropdown-arrow-border-color}"></path></svg>');

$dialect-dropdown-arrow-height: 5px;
$dialect-dropdown-arrow-width: $dialect-dropdown-arrow-height * 2;
$dialect-dropdown-arrow-offset: 12px;

$dropdown-padding-y: 0 !default;
$dropdown-spacer: 0.625rem !default;

$dropdown-menu: () !default;
$dropdown-menu: map-deep-merge(
	(
		background-color: $white,
		border-color: $gray-300,
		border-radius: 0.25rem,
		border-width: 1px,
		box-shadow: $c-unset,
		font-size: 0.8125rem,
		margin: $dropdown-spacer 0 0,
		max-height: $c-unset,
		max-width: 240px,
		min-height: 40px,
		min-width: 240px,
		overflow: visible,
		padding: $dropdown-padding-y 0,
		before: (
			background-image: #{$dialect-dropdown-arrow, $dialect-dropdown-arrow-border},
			background-position: #{0 $dialect-dropdown-arrow-border-width, 0 0},
			background-repeat: no-repeat,
			background-size: 100% auto,
			content: '',
			height: $dialect-dropdown-arrow-height,
			left: $dialect-dropdown-arrow-offset,
			position: absolute,
			top: math-sign($dialect-dropdown-arrow-height),
			width: $dialect-dropdown-arrow-width,
		),
	),
	$dropdown-menu
);

// .dropdown-item, 

$dropdown-item-padding-x: 1rem !default;
$dropdown-item-padding-y: 0.65625rem !default;

// Weird box-shadow inset with border-radius render in IE https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12515080/

$dropdown-item-base: () !default;
$dropdown-item-base: map-deep-merge(
	(
		background-color: transparent,
		border-radius: 0,
		border-width: 0,
		clear: both,
		color: $gray-800,
		cursor: $link-cursor,
		display: block,
		font-size: inherit,
		font-weight: $font-weight-bold,
		overflow: hidden,
		padding-bottom: $dropdown-item-padding-y,
		padding-left: $dropdown-item-padding-x,
		padding-right: $dropdown-item-padding-x,
		padding-top: $dropdown-item-padding-y,
		position: relative,
		text-align: inherit,
		transition: none,
		white-space: normal,
		width: 100%,
		word-wrap: break-word,
		hover: (
			background-color: clay-lighten($component-active-bg, 44.9),
			color: $gray-900,
		),
		focus: (
			box-shadow: $component-focus-inset-box-shadow,
			outline: 0,
			text-decoration: none,
		),
		active: (
			background-color: $primary-l2,
			color: $primary-d2,
			font-weight: $font-weight-semi-bold,
		),
		active-class: (
			c-kbd-inline: (
				color: inherit,
			),
		),
		disabled: (
			color: $gray-500,
			box-shadow: none,
		),
		c-kbd-inline: (
			color: $gray-500,
		),
	),
	$dropdown-item-base
);

// .dropdown-header

$dropdown-header: () !default;
$dropdown-header: map-deep-merge(
	(
		breakpoint-down: sm,
		color: $gray-700,
		display: block,
		font-size: 0.875rem,
		margin-top: 0.625rem,
		padding: 0.46875rem $dropdown-item-padding-x,
		padding-bottom: $c-unset,
		padding-left: $c-unset,
		padding-right: $c-unset,
		padding-top: $c-unset,
		position: relative,
		text-transform: uppercase,
		word-wrap: break-word,
		first-child: (
			margin-top: 0,
		),
	),
	$dropdown-header
);

// .dropdown-subheader

$dropdown-subheader: () !default;
$dropdown-subheader: map-deep-merge(
	(
		color: $gray-700,
		font-size: 0.875rem,
		font-weight: $c-unset,
		margin-top: $c-unset,
		padding: map-get($dropdown-header, padding),
		padding-bottom: $c-unset,
		padding-left: $c-unset,
		padding-right: $c-unset,
		padding-top: $c-unset,
		text-transform: uppercase,
		white-space: normal,
		word-wrap: break-word,
		first-child: (
			margin-top: 0,
		),
	),
	$dropdown-subheader
);

// .dropdown-caption

$dropdown-caption: () !default;
$dropdown-caption: map-merge(
	(
		color: $gray-600,
		font-size: 0.875rem,
		font-weight: $c-unset,
		padding: map-get($dropdown-header, padding),
		white-space: normal,
		word-wrap: break-word,
	),
	$dropdown-caption
);

// .dropdown-divider

$dropdown-divider: () !default;
$dropdown-divider: map-merge(
	(
		background-color: $c-unset,
		border-top: 1px solid $gray-300,
		height: 0,
		margin: 0,
		overflow: hidden,
	),
	$dropdown-divider
);

// .dropdown-section

$dropdown-section: () !default;
$dropdown-section: map-deep-merge(
	(
		padding: 0.375rem 1rem,
		form-group: (
			form-group: (
				margin-top: $dropdown-item-padding-y * 2,
			),
		),
		custom-control: (
			margin-bottom: 0,
		),
		custom-control-label: (
			color: $c-unset,
		),
		custom-control-label-text: (
			padding-left: $c-unset,
		),
		active: (
			custom-control-label: (
				color: $c-unset,
			),
		),
	),
	$dropdown-section
);

// Autocomplete Dropdown Menu

$autocomplete-dropdown-menu: () !default;
$autocomplete-dropdown-menu: map-deep-merge(
	(
		max-height: $c-unset,
	),
	$autocomplete-dropdown-menu
);

// .dropdown-menu-top

$dropdown-menu-top: () !default;
$dropdown-menu-top: map-deep-merge(
	(
		bottom: 100% !important,
		left: 0 !important,
		margin-top: 0,
		margin-bottom: $dialect-dropdown-arrow-height,
		right: auto !important,
		top: auto !important,
		transform: none !important,
		will-change: auto !important,
		before: (
			bottom: math-sign($dialect-dropdown-arrow-height),
			top: auto,
			transform: rotate(180deg),
		),
	),
	$dropdown-menu-top
);

// .dropdown-menu-top-right

$dropdown-menu-top-right: () !default;
$dropdown-menu-top-right: map-deep-merge(
	(
		bottom: 100% !important,
		left: auto !important,
		margin-top: 0,
		margin-bottom: $dialect-dropdown-arrow-height,
		right: 0 !important,
		top: auto !important,
		transform: none !important,
		will-change: auto !important,
		before: (
			bottom: math-sign($dialect-dropdown-arrow-height),
			left: auto,
			right: $dialect-dropdown-arrow-offset,
			top: auto,
			transform: rotate(180deg),
		),
	),
	$dropdown-menu-top-right
);

// .dropdown-menu-top-center

$dropdown-menu-top-center: () !default;
$dropdown-menu-top-center: map-deep-merge(
	(
		bottom: 100% !important,
		left: 50% !important,
		margin-top: 0,
		margin-bottom: $dialect-dropdown-arrow-height,
		right: auto !important,
		top: auto !important,
		transform: translateX(-50%) !important,
		will-change: auto !important,
		before: (
			bottom: math-sign($dialect-dropdown-arrow-height),
			left: 50%,
			margin-left: math-sign($dialect-dropdown-arrow-height),
			top: auto,
			transform: rotate(180deg),
		),
	),
	$dropdown-menu-top-center
);

// .dropdown-menu-center

$dropdown-menu-center: () !default;
$dropdown-menu-center: map-deep-merge(
	(
		bottom: auto !important,
		left: 50% !important,
		right: auto !important,
		top: 100% !important,
		transform: translateX(-50%) !important,
		will-change: auto !important,
		before: (
			left: 50%,
			margin-left: math-sign($dialect-dropdown-arrow-width * 0.5),
		),
	),
	$dropdown-menu-center
);

// .dropdown-menu-left-side

$dropdown-menu-left-side: () !default;
$dropdown-menu-left-side: map-deep-merge(
	(
		bottom: auto !important,
		left: auto !important,
		margin-right: $dialect-dropdown-arrow-height,
		margin-top: 0,
		right: 100% !important,
		top: 0 !important,
		transform: none !important,
		will-change: auto !important,
		before: (
			left: auto,
			right: -7px,
			top: $dialect-dropdown-arrow-offset,
			transform: rotate(90deg),
		),
	),
	$dropdown-menu-left-side
);

// .dropdown-menu-left-side-bottom

$dropdown-menu-left-side-bottom: () !default;
$dropdown-menu-left-side-bottom: map-deep-merge(
	(
		bottom: 0 !important,
		left: auto !important,
		margin-right: $dialect-dropdown-arrow-height,
		margin-top: 0,
		right: 100% !important,
		top: auto !important,
		transform: none !important,
		will-change: auto !important,
		before: (
			bottom: $dialect-dropdown-arrow-offset,
			left: auto,
			right: -7px,
			top: auto,
			transform: rotate(90deg),
		),
	),
	$dropdown-menu-left-side-bottom
);

// .dropdown-menu-left-side-middle

$dropdown-menu-left-side-middle: () !default;
$dropdown-menu-left-side-middle: map-deep-merge(
	(
		bottom: auto !important,
		left: auto !important,
		margin-right: $dialect-dropdown-arrow-height,
		margin-top: 0,
		right: 100% !important,
		top: 50% !important,
		transform: translate(0, -50%) !important,
		will-change: auto !important,
		before: (
			left: auto,
			margin-top: math-sign($dialect-dropdown-arrow-width * 0.5),
			right: -7px,
			top: 50%,
			transform: rotate(90deg),
		),
	),
	$dropdown-menu-left-side-middle
);

// .dropdown-menu-right-side

$dropdown-menu-right-side: () !default;
$dropdown-menu-right-side: map-deep-merge(
	(
		bottom: auto !important,
		left: 100% !important,
		margin-left: $dialect-dropdown-arrow-height,
		margin-top: 0,
		right: auto !important,
		top: 0 !important,
		transform: none !important,
		will-change: auto !important,
		before: (
			left: -7px,
			top: $dialect-dropdown-arrow-offset,
			transform: rotate(-90deg),
		),
	),
	$dropdown-menu-right-side
);

// .dropdown-menu-right-side-bottom

$dropdown-menu-right-side-bottom: () !default;
$dropdown-menu-right-side-bottom: map-deep-merge(
	(
		bottom: 0 !important,
		left: 100% !important,
		margin-left: $dialect-dropdown-arrow-height,
		margin-top: 0,
		right: auto !important,
		top: auto !important,
		transform: none !important,
		will-change: auto !important,
		before: (
			bottom: $dialect-dropdown-arrow-offset,
			left: -7px,
			top: auto,
			transform: rotate(-90deg),
		),
	),
	$dropdown-menu-right-side-bottom
);

// .dropdown-menu-right-side-middle

$dropdown-menu-right-side-middle: () !default;
$dropdown-menu-right-side-middle: map-deep-merge(
	(
		bottom: auto !important,
		left: 100% !important,
		margin-left: $dialect-dropdown-arrow-height,
		margin-top: 0,
		right: auto !important,
		top: 50% !important,
		transform: translate(0, -50%) !important,
		will-change: auto !important,
		before: (
			left: -7px,
			margin-top: math-sign($dialect-dropdown-arrow-width * 0.5),
			top: 50%,
			transform: rotate(-90deg),
		),
	),
	$dropdown-menu-right-side-middle
);

// Dropdown Action

$dropdown-action-toggle-font-size: 1rem !default; // 16px
$dropdown-action-toggle-size: 2.25rem !default;

$dropdown-action-toggle-disabled-opacity: 1 !default;
